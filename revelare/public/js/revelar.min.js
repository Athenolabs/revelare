

frappe.ui.form.on('UOM Conversion Detail', {
    revelare_default_uom_sales_analytics_2: function revelare_default_uom_sales_analytics_2(frm, cdt, cdn) {
        frm.doc.uoms.forEach(function (uom_row_i, index_i) {
            if (uom_row_i.name == cdn) {
                uom_row_i.revelare_default_uom_sales_analytics_2 ? console.log('checked') : console.log('unckecked');

                var check = 0;

                $.each(frm.doc.uoms || [], function (i, d) {
                    if (d.revelare_default_uom_sales_analytics_2) {
                        check += 1;
                        if (check > 1) {
                            frappe.msgprint('Solamente debe haber un elemento seleccionado');
                            frm.doc.uoms[index_i].revelare_default_uom_sales_analytics_2 = 0;
                            refresh_field('uoms');
                        }
                    }
                });
            }
        });
    }
});