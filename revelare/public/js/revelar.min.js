

frappe.ui.form.on('UOM Conversion Detail', {
    revelare_default_uom_sales_analytics_2: function revelare_default_uom_sales_analytics_2(frm, cdt, cdn) {
        var check = 0;

        frm.doc.uoms.forEach(function (uom_row_i, index_i) {
            if (uom_row_i.name == cdn) {
                uom_row_i.revelare_default_uom_sales_analytics_2 ? frm.enable_save() : console.log('unckecked');

                frm.doc.uoms.forEach(function (uom_row, indice) {
                    if (uom_row.revelare_default_uom_sales_analytics_2) {
                        check++;
                        if (check > 1) {
                            frappe.msgprint('Solamente debe haber un elemento seleccionado');
                            frm.doc.uoms[index_i].revelare_default_uom_sales_analytics_2 = 0;
                            refresh_field('uoms');
                        }
                    }
                });
            }
        });
    }
});